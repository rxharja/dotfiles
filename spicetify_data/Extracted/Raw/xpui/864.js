(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[864],{73977:function(e,t,a){"use strict";a.d(t,{J:function(){return h},P:function(){return v}});var s=a(42065),n=a(35181),l=a(73333),o=a(27378),r=a.n(o),i=a(64954),c=a(9807),u=a(14298);const d=({source:e,onAddOrRemoveSource:t})=>{const[a,i]=(0,o.useState)(e.enabled);return r().createElement(r().Fragment,null,r().createElement(c.Dy,{as:"span",variant:c.Dy.mesto,color:u.nh1,htmlFor:`settings.local-files.${e.id}`},function(e){var t,a;let s;switch(e.id){case"downloads":s=n.ag.get("local-files.source.downloads");break;case"itunes":s=n.ag.get("local-files.source.itunes");break;case"my_music":s=n.ag.get("local-files.source.my_music");break;case"windows_music_library":s=n.ag.get("local-files.source.windows_music_library");break;default:s=null!==(t=null!==(a=e.name)&&void 0!==a?a:e.path)&&void 0!==t?t:e.id}return s}(e)),r().createElement(l.Z,{className:s.Z.secondColumn,id:`settings.local-files.${e.id}`,value:a,onSelected:a=>{i(a),t(e.id,a)}}))};var m=a(75845),g=a(3108);const p=()=>{const[e,t]=(0,o.useState)([]),a=(0,o.useContext)(m.t),l=(0,g.r)(),u=(0,o.useCallback)((async()=>t(await a.getSources())),[a]);(0,o.useEffect)((()=>{u()}),[u]);const p=(0,o.useCallback)((async()=>{const e=await a.browseForFolder();e.path&&(await a.addSource(e.path),u(),l.say(n.ag.get("settings.localFilesFolderAdded",e.path)))}),[l,a,u]),y=(0,o.useCallback)(((e,t)=>{t?a.addSource(e):a.removeSource(e)}),[a]);return r().createElement(r().Fragment,null,r().createElement(c.Dy,{as:"h3",variant:c.Dy.balladBold,className:s.Z.title},n.ag.get("settings.showSongsFrom")),e.map((e=>e.found?r().createElement(d,{key:e.id,source:e,onAddOrRemoveSource:y}):null)),r().createElement(i.z,{"aria-label":n.ag.get("settings.addASource"),className:s.Z.button,version:"outlined",onClick:()=>{p()}},n.ag.get("settings.addASource")))};var y=a(40093);const h="showLocalFiles",v=()=>{const{useNamespacedLocalStorage:e}=(0,o.useContext)(y.Xz),[t,a]=e(h,!1);return r().createElement(r().Fragment,null,r().createElement(c.Dy,{as:"h2",variant:c.Dy.cello,className:s.Z.title},n.ag.get("settings.localFiles")),r().createElement(c.Dy,{as:"label",variant:c.Dy.mesto,color:u.nh1,htmlFor:"settings.showLocalFiles"},n.ag.get("settings.showLocalFiles")),r().createElement(l.Z,{className:s.Z.secondColumn,id:"settings.showLocalFiles",value:t,onSelected:e=>{a(e)}}),t?r().createElement(p,null):null)}},56864:function(e,t,a){"use strict";a.r(t),a.d(t,{Settings:function(){return ee},default:function(){return te},getIsEmployee:function(){return Y},hasHiFiAddon:function(){return X}});var s=a(27378),n=a.n(s),l=a(35181),o=a(42065),r=a(12617),i=a(73333),c=a(81460),u=a(9807),d=a(64954),m=a(75845),g=a(50019),p=a(14298);const y=({location:e,setValue:t})=>{const a=(0,s.useContext)(m.t),r=(0,s.useContext)(g.z),[i]=(0,s.useState)(e),c=(0,s.useCallback)((()=>{r.applyUpdate()}),[r]);if(void 0===e)return null;const y=e!==i;return n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.offlineStorageLocation")),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.offline-storage",className:o.Z.wordBreakAll},e),n().createElement(d.z,{id:"desktop.settings.offline-storage",version:"outlined",onClick:async()=>{const e=await a.browseForFolder();e.path&&t("storage.location",e.path)}},l.ag.get("desktop.settings.offlineStorageChangeLocation")),y&&n().createElement(d.z,{className:o.Z.restartAppButton,version:"outlined",onClick:c},l.ag.get("settings.restartApp")))};var h=a(43225),v={horizontalPair:"x-proxySettings-horizontalPair",ProxySettings:"x-proxySettings-ProxySettings",proxyInput:"x-proxySettings-proxyInput",subGroup:"x-proxySettings-subGroup",labelStretch:"x-proxySettings-labelStretch",restartAppButton:"x-proxySettings-restartAppButton",title:"x-proxySettings-title"};const b={"auto-detect":{label:()=>l.ag.get("desktop.settings.proxy.autodetect")},"no-proxy":{label:()=>l.ag.get("desktop.settings.proxy.noproxy")},http:{label:()=>l.ag.get("desktop.settings.proxy.http")},socks4:{label:()=>l.ag.get("desktop.settings.proxy.socks4")},socks5:{label:()=>l.ag.get("desktop.settings.proxy.socks5")}},f=[{enumKey:"auto-detect",enumValue:0},{enumKey:"no-proxy",enumValue:1},{enumKey:"http",enumValue:2},{enumKey:"socks4",enumValue:3},{enumKey:"socks5",enumValue:4}],k=({id:e,label:t,type:a,placeHolder:s,disabled:l,inputRef:o,handleOnChange:r})=>n().createElement("div",{className:v.subGroup},n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:e},t),n().createElement("input",{type:a||"text",id:e,className:v.proxyInput,placeholder:s,disabled:l,ref:o,onChange:r})),E=({children:e})=>n().createElement(h.c,{className:v.horizontalPair},e),D=(e,t,a)=>{let s=`${e}:${t}`;switch(a){case 2:s+="@http";break;case 3:s+="@socks4";break;case 4:s+="@socks5"}return s},w=({addr:e,mode:t,pass:a,user:o,setValue:r})=>{const i=(0,s.useContext)(g.z),m=(0,s.useRef)(null),y=(0,s.useRef)(null),w=(0,s.useRef)(null),C=(0,s.useRef)(null),[_,x]=(0,s.useState)(""),[N,S]=(0,s.useState)(""),[F,Z]=(0,s.useState)(!1);(0,s.useEffect)((()=>{const[t,a]=(null==e?void 0:e.split(/[:@]+/))||["",""];x(t),S(a),m.current&&(m.current.value=t),y.current&&(y.current.value=a)}),[e]),(0,s.useEffect)((()=>{C.current&&a&&(C.current.value=a.toString())}),[a]),(0,s.useEffect)((()=>{w.current&&o&&(w.current.value=o.toString())}),[o]);const V=(0,s.useCallback)((()=>{i.applyUpdate()}),[i]),A=(0,s.useCallback)((({target:e})=>{const a=D(e.value,N,t||0);x(e.value),r("network.proxy.addr",a),Z(!0)}),[t,N,r]),z=(0,s.useCallback)((({target:e})=>{const a=D(_,e.value,t||0);S(e.value),r("network.proxy.addr",a),Z(!0)}),[t,_,r]),P=(0,s.useCallback)((({target:e})=>{r("network.proxy.user",e.value),Z(!0)}),[r]),O=(0,s.useCallback)((({target:e})=>{r("network.proxy.pass",e.value),Z(!0)}),[r]),M=0===t||1===t;return n().createElement("div",{className:v.ProxySettings},n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:v.title},l.ag.get("desktop.settings.proxy.title")),n().createElement(h.c,{className:v.horizontalPair},n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"network.proxy.mode",className:v.labelStretch},l.ag.get("desktop.settings.proxy.type")),n().createElement(c.v,{className:v.secondColumn,id:"network.proxy.mode",value:t,onSelect:e=>{const t=parseInt(e,10);r("network.proxy.mode",t),Z(!0)}},f.map((({enumKey:e,enumValue:t})=>n().createElement("option",{key:e,value:t,"data-testid":e},b[e]?b[e].label():""))))),n().createElement(E,null,n().createElement(k,{id:"network.proxy.host",label:l.ag.get("desktop.settings.proxy.host"),handleOnChange:A,placeHolder:l.ag.get("desktop.settings.proxy.host"),inputRef:m,disabled:M}),n().createElement(k,{id:"network.proxy.port",type:"number",label:l.ag.get("desktop.settings.proxy.port"),handleOnChange:z,placeHolder:l.ag.get("desktop.settings.proxy.port"),inputRef:y,disabled:M})),n().createElement(E,null,n().createElement(k,{id:"network.proxy.user",label:l.ag.get("desktop.settings.proxy.user"),handleOnChange:P,placeHolder:l.ag.get("desktop.settings.proxy.user"),inputRef:w,disabled:M}),n().createElement(k,{id:"network.proxy.pass",label:l.ag.get("desktop.settings.proxy.pass"),handleOnChange:O,placeHolder:l.ag.get("desktop.settings.proxy.pass"),inputRef:C,disabled:M})),F&&n().createElement(d.z,{className:v.restartAppButton,version:"outlined",onClick:V},l.ag.get("settings.restartApp")))};var C=a(47574),_=a(54798);const x={minimized:{label:()=>l.ag.get("desktop.settings.autostartMinimized")},normal:{label:()=>l.ag.get("desktop.settings.autostartNormal")},off:{label:()=>l.ag.get("desktop.settings.autostartOff")}},N=12e3,S=({settings:{values:e,autoStart:t},setValue:a})=>{const[d,m]=(0,s.useState)(-1),g=-1===d?e["audio.crossfade.time_v2"]:d,h=`${Math.round(g/1e3)} ${l.ag.get("desktop.settings.sec")}`,v=(0,C.W6)(_.XN);return n().createElement(n().Fragment,null,void 0!==e["audio.crossfade_v2"]&&n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.playback")),e["audio.crossfade_v2"]?n().createElement("div",{className:o.Z.crossFadeContainer},n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.crossfadeTracks"},l.ag.get("desktop.settings.crossfadeTracks")),n().createElement(r.Z,{onStepBackward:()=>{m(Math.max(0,g-1e3))},onStepForward:()=>{m(Math.min(N,g+1e3))},max:N,current:g,onDragStart:e=>{m(e*N)},onDragMove:e=>{m(e*N)},onDragEnd:e=>{m(e*N),a("audio.crossfade.time_v2",e*N)}}),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1},h)):n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.crossfadeTracks"},l.ag.get("desktop.settings.crossfadeTracks")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.crossfadeTracks",value:!!e["audio.crossfade_v2"],onSelected:e=>{a("audio.crossfade_v2",e)}}),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.automixInfo"},l.ag.get("desktop.settings.automixInfo")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.automixInfo",value:!!e["audio.automix"],onSelected:e=>{a("audio.automix",e)}}),v&&n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.monoDownmixer"},l.ag.get("desktop.settings.monoDownmixer")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.monoDownmixer",value:!!e["audio.downmixer_v2"],onSelected:e=>{a("audio.downmixer_v2",e)}}))),void 0!==e["app.autostart-mode"]&&n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.startupAndWindowBehavior")),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.autostart"},l.ag.get("desktop.settings.autostart")),n().createElement(c.v,{className:o.Z.secondColumn,id:"desktop.settings.autostart",value:e["app.autostart-mode"],onSelect:e=>{a("app.autostart-mode",e)}},t.map((({enumKey:e,enumValue:t})=>n().createElement("option",{key:e,value:t},x[e]?x[e].label():"")))),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.closeShouldMinimize"},l.ag.get("desktop.settings.closeShouldMinimize")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.closeShouldMinimize",value:!!e["ui.minimize_to_tray"],onSelected:e=>{a("ui.minimize_to_tray",e)}})),n().createElement(y,{location:e["storage.location"],setValue:a}),n().createElement(w,{setValue:a,mode:e["network.proxy.mode"],addr:e["network.proxy.addr"],user:e["network.proxy.user"],pass:e["network.proxy.pass"]}),navigator&&/^win/i.test(navigator.platform)&&void 0!==e["ui.hardware_acceleration"]&&n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.compatibility")),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.enableHardwareAcceleration"},l.ag.get("desktop.settings.enableHardwareAcceleration")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.enableHardwareAcceleration",value:!!e["ui.hardware_acceleration"],onSelected:e=>{a("ui.hardware_acceleration",e)}})),void 0!==e["app.cookies-disabled"]&&n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.privacy")),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.cookiesDisabled",dangerouslySetInnerHTML:{__html:l.ag.get("desktop.settings.cookiesDisabled")}}),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.cookiesDisabled",value:!!e["app.cookies-disabled"],onSelected:e=>{a("app.cookies-disabled",e)}})))};var F=a(15573);const Z=a(89106).D.CONNECTION_STATE_CHANGE;var V=a(58558);const A=({settings:{values:e},setValue:t})=>{const[a,r,c]=function(){const e=(0,F.H)(),[t,a]=(0,s.useState)(null),n=(0,s.useCallback)((t=>{e.connect(t)}),[e]),l=(0,s.useCallback)((()=>{e.disconnect()}),[e]);return(0,s.useEffect)((()=>{const t=e=>{a(e.data)};return e.addListener(Z,t),()=>{e.removeListener(Z,t)}}),[e,a]),[t,n,l]}(),d=(0,s.useCallback)((()=>{null!=a&&a.connection?c():r({window:{width:Math.max(800,window.outerWidth-100),height:Math.max(600,window.outerHeight-100)}})}),[a,r,c]),m=!!e["incognito-enabled"];return void 0!==e["publish-playlist"]&&void 0!==e["incognito-enabled"]?n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.social")),a&&a.show_connect_option?n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1},l.ag.get("desktop.settings.facebook")),n().createElement(V.Y,{className:o.Z.facebookButton,version:"primary",onClick:d},n().createElement("div",{className:o.Z.buttonContainer},n().createElement("span",{className:"spoticon-facebook-16"}),n().createElement("span",null,!0===a.connection?l.ag.get("desktop.settings.facebook.disconnect"):l.ag.get("desktop.settings.facebook.connect"))))):null,n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.newPlaylistsPublic"},l.ag.get("desktop.settings.newPlaylistsPublic")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.newPlaylistsPublic",value:"1"===e["publish-playlist"],onSelected:e=>{t("publish-playlist",e?"1":"0")}}),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.privateSession"},l.ag.get("desktop.settings.privateSession")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.privateSession",value:!!e["incognito-enabled"],onSelected:e=>{t("incognito-enabled",e)}}),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.publishActivity"},l.ag.get("desktop.settings.publishActivity")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.publishActivity",disabled:m,value:"1"===e["publish-activity"],onSelected:e=>{t("publish-activity",e?"1":"0")}})):null},z={automatic:{enum:0,label:()=>l.ag.get("desktop.settings.streamingQualityAutomatic")},low:{enum:1,label:()=>l.ag.get("desktop.settings.streamingQualityLow")},medium:{enum:2,label:()=>l.ag.get("desktop.settings.streamingQualityNormal")},high:{enum:3,label:()=>l.ag.get("desktop.settings.streamingQualityHigh")},veryhigh:{enum:4,label:()=>l.ag.get("desktop.settings.streamingQualityVeryHigh")},hifi:{enum:5,label:()=>l.ag.get("desktop.settings.streamingQualityHiFi")}};function P(e,t){switch(parseInt(e,10)){default:case z.automatic.enum:case z.low.enum:case z.medium.enum:case z.high.enum:return!0;case z.veryhigh.enum:return function(e){switch(parseInt(e["audio-quality"],10)){default:case 0:return!1;case 1:case 2:return!0}}(t);case z.hifi.enum:return function(e){switch(parseInt(e["audio-quality"],10)){default:case 0:case 1:return!1;case 2:return!0}}(t)}}const O={loud:{label:()=>l.ag.get("desktop.settings.loudnessLoud")},normal:{label:()=>l.ag.get("desktop.settings.loudnessNormal")},quiet:{label:()=>l.ag.get("desktop.settings.loudnessQuiet")}},M=({settings:{values:e,formats:t,loudness:a},setValue:s})=>{const r=!e["audio.normalize_v2"],d=e["audio.play_bitrate_enumeration"];return void 0!==e["audio.play_bitrate_enumeration"]?n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.musicQuality")),n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.streamingQuality"},l.ag.get("desktop.settings.streamingQuality")),n().createElement(c.v,{className:o.Z.secondColumn,id:"desktop.settings.streamingQuality",value:P(d,e)?e["audio.play_bitrate_enumeration"]:z.high.enum,onSelect:t=>{let a=parseInt(t,10);P(t,e)||(a=z.high.enum);const n=0===a?z.high.enum:a;s("audio.play_bitrate_non_metered_enumeration",a),s("audio.play_bitrate_enumeration",a),s("audio.sync_bitrate_enumeration",n)}},t.filter((({enumKey:e})=>e in z)).filter((({enumKey:t})=>{switch(z[t].enum){default:case z.automatic.enum:return!X(e);case z.low.enum:case z.medium.enum:case z.high.enum:case z.veryhigh.enum:return!0;case z.hifi.enum:return X(e)}})).map((({enumKey:e,enumValue:t})=>n().createElement("option",{key:e,value:t},z[e]?z[e].label():"")))),n().createElement("span",null,n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.automatic-downgrade"},l.ag.get("desktop.settings.automatic-downgrade.title")),n().createElement(u.Dy,{as:"p",variant:u.Dy.mesto,color:p.nh1},l.ag.get("desktop.settings.automatic-downgrade.info"))),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.automatic-downgrade",value:!!e["audio.allow_downgrade"],onSelected:e=>{s("audio.allow_downgrade",e)}}),n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.normalize"},l.ag.get("desktop.settings.normalize")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.normalize",value:!!e["audio.normalize_v2"],onSelected:e=>{s("audio.normalize_v2",e)}}),n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.loudnessEnvironment"},l.ag.get("desktop.settings.loudnessEnvironment_with_limiter_details")),n().createElement(c.v,{className:o.Z.secondColumn,id:"desktop.settings.loudnessEnvironment",disabled:r,value:e["audio.loudness.environment"],onSelect:e=>{s("audio.loudness.environment",parseInt(e,10))}},a.map((({enumKey:e,enumValue:t})=>n().createElement("option",{key:e,value:t},O[e]?O[e].label():""))))):null},I=({settings:{values:e},setValue:t})=>void 0===e["app.player.autoplay"]?null:n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.autoplay")),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"desktop.settings.autoplayInfo"},l.ag.get("desktop.settings.autoplayInfo")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.autoplayInfo",value:!!e["app.player.autoplay"],onSelected:e=>{t("app.player.autoplay",e)}})),R=({settings:{values:e},setValue:t})=>{const a="1"===e["lock-filter-explicit-content"],s="0"===e["filter-explicit-content"]||void 0===e["filter-explicit-content"];return n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.explicitContentFilter")),n().createElement(u.Dy,{as:"div",variant:u.Dy.mesto,color:p.nh1},n().createElement("label",{htmlFor:"desktop.settings.explicitContentFilter"},a?l.ag.get("desktop.settings.explicitContentFilterSettingLocked"):l.ag.get("desktop.settings.explicitContentFilterSetting"))),n().createElement(i.Z,{className:o.Z.secondColumn,id:"desktop.settings.explicitContentFilter",disabled:a,value:s,onSelected:e=>{t("filter-explicit-content",e?"0":"1")}}))},K=({settings:{values:e,languages:t},setValue:a})=>{const r=e.language,i=(0,s.useContext)(g.z),m=(0,s.useCallback)((()=>{i.applyUpdate()}),[i]);return void 0===e.language?null:n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("desktop.settings.language")),n().createElement(u.Dy,{as:"div",variant:u.Dy.mesto,color:p.nh1},n().createElement("label",{htmlFor:"desktop.settings.selectLanguage"},l.ag.get("desktop.settings.selectLanguage")),navigator.language!==r&&n().createElement(d.z,{className:o.Z.restartAppButton,version:"outlined",onClick:m},l.ag.get("settings.restartApp"))),n().createElement(c.v,{className:o.Z.secondColumn,dir:"auto",value:e.language,id:"desktop.settings.selectLanguage",onSelect:e=>{a("language",e)}},t.map((({key:e,value:t})=>n().createElement("option",{key:e,value:e},t)))))};var L=a(37565);const H=({settings:{values:e},setValue:t})=>{var a,r;const c=void 0===e.catalogue||"free"===e.catalogue.toLowerCase(),d=(0,s.useContext)(L.N),m=null==d||null===(a=d.client_capabilities)||void 0===a?void 0:a.can_show_system_media_controls,g=null==d||null===(r=d.client_capabilities)||void 0===r?void 0:r.can_show_track_notifications;return n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("settings.display")),!c&&n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1,htmlFor:"settings.showMusicAnnouncements"},l.ag.get("settings.showMusicAnnouncements")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"settings.showMusicAnnouncements",value:!e["ui.hide_hpto"],onSelected:e=>{t("ui.hide_hpto",!e)}})),g?n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"div",variant:u.Dy.mesto,color:p.nh1},n().createElement("label",{htmlFor:"settings.trackNotifications"},l.ag.get("settings.showTrackNotifications"))),n().createElement(i.Z,{className:o.Z.secondColumn,id:"settings.trackNotifications",value:!!e["ui.track_notifications_enabled"],onSelected:e=>{t("ui.track_notifications_enabled",e)}})):null,m?n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"div",variant:u.Dy.mesto,color:p.nh1},n().createElement("label",{htmlFor:"settings.systemMediaControlsEnabled"},l.ag.get("desktop.settings.showSystemMediaControls"))),n().createElement(i.Z,{className:o.Z.secondColumn,id:"settings.systemMediaControlsEnabled",value:!!e["ui.system_media_controls_enabled"],onSelected:e=>{t("ui.system_media_controls_enabled",e)}})):null,n().createElement(u.Dy,{as:"div",variant:u.Dy.mesto,color:p.nh1},n().createElement("label",{htmlFor:"settings.showFriendActivity"},l.ag.get("buddy-feed.see-what-your-friends-are-playing"))),n().createElement(i.Z,{className:o.Z.secondColumn,id:"settings.showFriendActivity",value:!!e["ui.show_friend_feed"],onSelected:e=>{t("ui.show_friend_feed",e)}}))};var T=a(73977),B=a(67812),j=a(79308),Q="x-countryLocaleOverride-checkBox",$="x-countryLocaleOverride-input",q=a(1391),G=a(28314),W=a(66499);const J=()=>{const e=(0,j.I0)(),{locale:t,user:a,overrides:l}=(0,j.v9)(q.Gg),o=(0,s.useRef)(null),r=(0,s.useRef)(null),i=(0,s.useCallback)((t=>{o.current&&o.current.value&&e((0,G.k9)(t?o.current.value:""))}),[e]),c=(0,s.useCallback)((t=>{r.current&&r.current.value&&e((0,G.fY)(t?r.current.value:""))}),[e]),d=(null==l?void 0:l.country)||(null==a?void 0:a.country),m=(null==l?void 0:l.locale)||t;return n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1},"Override certain user attributes to test regionalized content programming. The overrides are only active in this app."),n().createElement("div",{className:Q},n().createElement(W.z,{id:"overrides.country",onChange:e=>{const t=e.target.checked;i(t)},defaultChecked:!(null==l||!l.country)},n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1},"Country"))),n().createElement("input",{type:"text",id:"overrides.country.input",className:$,disabled:!(null!=l&&l.country),ref:o,defaultValue:d,onChange:()=>i(!0)}),n().createElement("div",{className:Q},n().createElement(W.z,{id:"overrides.locale",onChange:e=>{const t=e.target.checked;c(t)},defaultChecked:!(null==l||!l.locale)},n().createElement(u.Dy,{as:"span",variant:u.Dy.mesto,color:p.nh1},"Language"))),n().createElement("input",{type:"text",id:"overrides.locale.input",className:$,disabled:!(null!=l&&l.locale),ref:r,defaultValue:m,onChange:()=>c(!0)}))},U=({settings:{values:e},setValue:t})=>Y(e)?n().createElement(n().Fragment,null,n().createElement(u.Dy,{as:"h2",variant:u.Dy.cello,className:o.Z.title},l.ag.get("settings.employee")),n().createElement(J,null),n().createElement(u.Dy,{as:"label",variant:u.Dy.mesto,color:p.nh1,htmlFor:"settings.developerMode"},l.ag.get("desktop.settings.enableDeveloperMode")),n().createElement(i.Z,{className:o.Z.secondColumn,id:"settings.developerMode",value:!!e["app.enable-developer-mode"],onSelected:e=>{t("app.enable-developer-mode",e)}})):null;function Y(e){return"1"===e.employee}function X(e){return"2"===e["audio-quality"]}const ee=()=>{const{settings:e,setValue:t}=(0,B.r)(),[a,r]=(0,s.useState)(!1),i=(0,s.useCallback)((()=>r(!a)),[a,r]);return n().createElement("div",{className:o.Z.container},n().createElement(u.Dy,{as:"h1",variant:u.Dy.canon,className:o.Z.header},l.ag.get("desktop.settings.settings")),n().createElement(K,{settings:e,setValue:t}),n().createElement(R,{settings:e,setValue:t}),n().createElement(I,{settings:e,setValue:t}),n().createElement(M,{settings:e,setValue:t}),n().createElement(s.Suspense,{fallback:null},n().createElement(T.P,null)),n().createElement(H,{settings:e,setValue:t}),n().createElement(A,{settings:e,setValue:t}),n().createElement(U,{settings:e,setValue:t}),n().createElement("span",{className:o.Z.button},n().createElement(d.z,{version:"outlined",onClick:i},a?l.ag.get("desktop.settings.hideAdvancedSettings"):l.ag.get("desktop.settings.showAdvancedSettings"))),a&&n().createElement(S,{settings:e,setValue:t}))};var te=ee},73333:function(e,t,a){"use strict";a.d(t,{Z:function(){return d}});var s="x-toggle-wrapper",n="x-toggle-indicatorWrapper",l="x-toggle-input",o="x-toggle-indicator",r=a(60042),i=a.n(r),c=a(27378),u=a.n(c);const d=({value:e,disabled:t,onSelected:a,id:r,className:c})=>u().createElement("label",{className:i()(s,c)},u().createElement("input",{id:r,className:l,type:"checkbox",disabled:t,checked:e,onChange:e=>{const t=e.target.checked;a(t)}}),u().createElement("span",{className:n},u().createElement("span",{className:o})))},3108:function(e,t,a){"use strict";a.d(t,{r:function(){return r}});var s=a(27378),n=a(65526),l=a.n(n);class o{constructor(e={}){l()(this,"settings",void 0),l()(this,"currentRegion",void 0),this.settings={level:e.level||"polite",parent:e.parent||document.body,idPrefix:e.idPrefix||"live-region-",delay:e.delay||0},this.currentRegion=document.createElement("span")}say(e,t=this.settings.delay){this.clearNode(),this.currentRegion=document.createElement("span"),this.currentRegion.id=this.settings.idPrefix+Math.floor(1e4*Math.random());const a="assertive"!==this.settings.level?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level),this.currentRegion.setAttribute("role",a),this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px"),this.settings.parent.appendChild(this.currentRegion),window.setTimeout((()=>{this.currentRegion.textContent=e}),t)}clearNode(){const e=this.settings.parent.querySelector(`[id^="${this.settings.idPrefix}"]`);e&&this.settings.parent.removeChild(e)}}const r=({delay:e,idPrefix:t,level:a,parent:n}={})=>{const l=(0,s.useMemo)((()=>new o({delay:e,idPrefix:t,level:a,parent:n})),[e,t,a,n]);return(0,s.useEffect)((()=>()=>{l.clearNode()}),[l]),l}},67812:function(e,t,a){"use strict";a.d(t,{r:function(){return f}});var s=a(65526),n=a.n(s),l=a(27378),o=a(79308),r=a(40617),i=JSON.parse('{"en":"English (English)","ar":"العَرَبِيَّة (Arabic)","zh-TW":"中文 (Chinese)","he":"עברית (Hebrew)","hu":"Magyar (Hungarian)","cs":"Čeština (Czech)","de":"Deutsch (German)","es":"Español (Spanish)","es-419":"Español (International Spanish)","fi":"Suomeksi (Finnish)","fr":"Français (French)","fr-CA":"Français Canadien (Canadian French)","el":"Eλληνικά (Greek)","id":"Bahasa Indonesia (Indonesian)","it":"Italiano (Italian)","ja":"日本語 (Japanese)","ko":"한국어 (Korean)","ms":"Melayu (Malay)","nl":"Nederlands (Dutch)","pl":"Polski (Polish)","pt-BR":"Português do Brasil (Brazilian Portuguese)","ru":"Русский (Russian)","sv":"Svenska (Swedish)","th":"ภาษาไทย (Thai)","tr":"Türkçe (Turkish)","vi":"Tiếng Việt (Vietnamese)"}'),c=a(65701),u=a(82907);function d(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?d(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const g=(0,r.v)(),p=Object.entries(i).map((([e,t])=>({key:e,value:t}))),y=[{enumKey:"quiet",enumValue:0},{enumKey:"normal",enumValue:1},{enumKey:"loud",enumValue:2}],h=[{enumKey:"minimized",enumValue:"minimized"},{enumKey:"normal",enumValue:"normal"},{enumKey:"off",enumValue:"off"}],v=["filter-explicit-content","publish-playlist","publish-activity","public-toplist"],b=["incognito-enabled"],f=()=>{const e=(0,o.I0)(),t=(0,o.v9)(u.ur),[a,s]=(0,l.useState)({formats:[],values:{"incognito-enabled":t},languages:p,autoStart:h,loudness:y}),n=(0,l.useCallback)(((t,a)=>v.includes(t)?g.put(`sp://product-state/v1/values/${t}`,a):b.includes(t)?e((0,c.aY)(a)):g.put("sp://prefs/v1",{[t]:a})),[e]);return(0,l.useEffect)((()=>{g.get("sp://playback/v2/formats",void 0,{accept:"application/json"}).then((e=>{const t=[{enumKey:"automatic",enumValue:0,supported:!0},...e.formats.filter((e=>e.supported))].map((e=>m(m({},e),{},{enumKey:e.enumKey.toLocaleLowerCase()})));s((e=>m(m({},e),{},{formats:t})))}));const e=g.sub("sp://product-state/v1/values",(e=>{s((t=>m(m({},t),{},{values:m(m({},t.values),e)})))})),t=g.sub("sp://scrobble/v1/incognito",(e=>{s((t=>m(m({},t),{},{values:m(m({},t.values),{},{"incognito-enabled":e.enabled})})))})),a=g.sub("sp://prefs/v1",(e=>{s((t=>m(m({},t),{},{values:m(m({},t.values),e)})))}));return()=>{a.cancel(),e.cancel(),t.cancel()}}),[]),{settings:a,setValue:n}}},42065:function(e,t){"use strict";t.Z={container:"x-settings-container",header:"x-settings-header",secondColumn:"x-settings-secondColumn",facebookButton:"x-settings-facebookButton",buttonContainer:"x-settings-buttonContainer",title:"x-settings-title",button:"x-settings-button",crossFadeContainer:"x-settings-crossFadeContainer",restartAppButton:"x-settings-restartAppButton",input:"x-settings-input",wordBreakAll:"x-settings-wordBreakAll"}}}]);
//# sourceMappingURL=864.js.map