(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[984],{1324:function(e,s,t){"use strict";t.d(s,{o:function(){return d}});var a=t(27378),n=t.n(a),i=t(34761),l=t(50878),c=t(13479),o=t(19421),r=t(35181);const d=n().memo((({uri:e})=>n().createElement(l.ZP,{value:"generic"},n().createElement(i.v,null,n().createElement(o.q,{divider:"before"},n().createElement(c.Jx,{uri:e,displayText:r.ag.get("context-menu.copy-generic-link")}),n().createElement(c.W2,{uri:e}))))))},63984:function(e,s,t){"use strict";t.r(s),t.d(s,{SocialListeningCard:function(){return $}});t(23615);var a=t(27378),n=t.n(a),i=t(79308),l=t(9807),c=t(35181),o=t(66917),r=t.n(o),d=t(64954),g=t(36497),m="x-socialListeningCard-container",u="x-socialListeningCard-headerTitle",_="x-socialListeningCard-descriptionText",f="x-socialListeningCard-betaLabel",b="x-socialListeningCard-privacyDisclaimer",v="x-socialListeningCard-inviteButton",p="x-socialListeningCard-inviteMoreFriendsMessage",E=t(54220),h=t(14298),y=t(95753),w="x-socialListeningAvatar-container",N="x-socialListeningAvatar-initialsFallback";function x({username:e="",displayName:s="",imageUrl:t,typeVariant:a=l.Dy.balladBold}){return n().createElement("div",{className:w},n().createElement(y.E,{src:t,alt:s,loading:"eager"},n().createElement(l.Dy.span,{className:N,variant:a,style:{backgroundColor:L(e)}},Array.from(s)[0])))}function L(e){const s=[h.krj,h.U2v,h.Ydg,h.N0l,h.$y2,h.HRR];return s[(e.length||0)%s.length]}var k="x-socialListeningParticipant-container",D="x-socialListeningParticipant-avatar",U="x-socialListeningParticipant-name",S="x-socialListeningParticipant-leaveButton";function B({username:e,displayName:s,imageUrl:t,shouldShowLeaveButton:a,isHost:i,onLeave:l}){const o=r().profileURI(e).toURI(),d=i?c.ag.get("social_listening.session_view_delete_session_button_title_text"):c.ag.get("social_listening.session_view_leave_session_button_title_text");return n().createElement("div",{className:k},n().createElement("div",{className:D},n().createElement(x,{username:e,displayName:s,imageUrl:t})),n().createElement(E.r,{className:`${U} ellipsis-one-line`,to:o},s),a&&n().createElement("button",{className:S,onClick:l,"aria-label":d,title:d},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 20 20"},n().createElement("path",{fill:"currentColor",d:"M16.962 3.627l-.59-.588L10 9.411 3.627 3.039l-.588.588L9.411 10l-6.372 6.372.588.59L10 10.589l6.372 6.373.59-.59L10.589 10l6.373-6.373z"}))))}var C=t(47574),H=t(54798),R=t(88886),I=t(1324);const V=({socialListening:{session:e,isLoading:s,hasSubscribed:t,error:a}={},onlineStatus:{online:n}={}})=>({session:e,isLoading:s,hasSubscribed:t,error:a,isOnline:n});function $({isVisible:e}){var s;const t=(0,i.I0)(),{session:o,isLoading:E,hasSubscribed:h,error:y,isOnline:w}=(0,i.v9)(V);(0,a.useEffect)((()=>{h||t((0,g.Q0)())}),[t,h]),(0,a.useEffect)((()=>{w&&e&&t((0,g.$B)())}),[t,w,e]);const N=(0,C.W6)(H.ZD);if(!w)return null;const x=(null==o||null===(s=o.participants)||void 0===s?void 0:s.length)||0,L=x===N,{isSessionOwner:k,hasNonHostParticipants:D,participants:U=[],joinSessionToken:S}=o||{},$=y&&!E,z=c.ag.get("social_listening.session_view_failed_to_load"),O=D?c.ag.get("social_listening.session_view_active_session_description_text"):c.ag.get("social_listening.session_view_description_text");return n().createElement("div",{className:m},n().createElement(l.Dy.span,{className:u,variant:l.Dy.balladBold},c.ag.get("social_listening.session_view_header_title"),n().createElement(l.Dy.span,{className:f,variant:l.Dy.minuetBold},c.ag.get("social_listening.session_beta_label"))),n().createElement(l.Dy.p,{className:_,variant:l.Dy.mesto},$?n().createElement("span",{role:"alert"},z):O),$&&n().createElement(d.z,{version:"outlined",onClick:g.$B},c.ag.get("social_listening.session_view_try_again_button_title_text")),!$&&U.map((({username:e,displayName:s,imageUrl:a,isHost:i,isCurrentUser:l})=>n().createElement(B,{key:e,username:e,displayName:s,imageUrl:a,isHost:i,shouldShowLeaveButton:!(!l||!D),onLeave:()=>t((0,g.A0)())}))),!$&&k&&!L&&n().createElement(R.y,{menu:n().createElement(I.o,{uri:r().socialSessionURI(S).toURI()})},n().createElement("button",{className:v,title:c.ag.get("social_listening.invite_button_text"),"aria-label":c.ag.get("social_listening.invite_button_text")},n().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"19",height:"19",fill:"none",viewBox:"0 0 19 19"},n().createElement("path",{fill:"currentColor",d:"M10 9V0h-.999v9H0v1h9.001v9H10v-9h9V9h-9z"})))),n().createElement(l.Dy.p,{variant:l.Dy.finale,className:b},k&&!L&&n().createElement("span",{className:p},c.ag.get("social_listening.invite_title",N-x),".")," ",c.ag.get("social_listening.privacy_disclaimer")))}}}]);
//# sourceMappingURL=984.js.map