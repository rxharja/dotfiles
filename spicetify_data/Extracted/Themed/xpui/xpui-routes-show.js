(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[713],{10578:function(e,t,a){"use strict";a.d(t,{k:function(){return l}});var n=a(27378),i=a.n(n),s=a(9807),r="x-copyrights-copyrights";const l=({copyrights:e,courtesyLine:t})=>{const a=(e||[]).map(((e,t)=>{const a=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let n;return n="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,i().createElement(s.Dy,{as:"p",variant:s.Dy.finale,key:t,dir:"auto"},`${n} ${a}`)}));return t&&a.unshift(i().createElement(s.Dy,{as:"p",variant:s.Dy.finale,key:a.length,dir:"auto"},t)),i().createElement("div",{className:r},a)}},99841:function(e,t,a){"use strict";a.r(t),a.d(t,{Show:function(){return Be},default:function(){return Ue}});var n=a(27378),i=a.n(n),s=a(11700),r=a(48529),l=a(79308),c=a(80406),o=a(35181),d=a(10578),u=a(55003),m=a(28979),f=a(65701),p=a(18010),b=a(7444),g=a(88319),y=a(83509),E=a(60042),v=a.n(E),h=a(32311),w=a(99209),k=a(75533),S=a(72136),x=a(21311),C=a(33482),O=a(26380),D=a(32049),P=a(37539),I={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",container:"show-showEntityHeader-container",smallHeader:"show-showEntityHeader-smallHeader",imageContainer:"show-showEntityHeader-imageContainer",headerText:"show-showEntityHeader-headerText"},_=a(9807),N=a(48936);const M=e=>{switch(e){case C.f.MOBILE:return x.m$.SIZE_112;case C.f.SMALL:return x.m$.SIZE_200;default:return x.m$.SIZE_232}},A=({uri:e,backgroundColor:t,backgroundImages:a,size:s,data:r,actionBarHeader:l,actionBarButtons:c,contextMenuWrapper:o=N.j})=>{const d=(0,n.useRef)(null),{imageUrl:u}=(0,h.f)(a,d);return i().createElement(i().Fragment,null,i().createElement("div",{"data-testid":"header",ref:d,style:{backgroundColor:t},className:v()(P.Z.container,I.container,P.Z.overlay,I.overlay,{[P.Z.withBackgroundImage]:u,[P.Z.smallHeader]:s===C.f.MOBILE,[I.smallHeader]:s===C.f.MOBILE})},i().createElement(w.Du,null,i().createElement(w.yZ,{text:r.title})),i().createElement(o,{uri:e,contextUri:e},i().createElement(S.O,{size:M(s),type:r.type,images:r.images,title:r.title,shape:S.K.ROUNDED_CORNERS,className:I.imageContainer})),i().createElement("div",{className:I.headerText},s!==C.f.MOBILE&&i().createElement(_.Dy.p,{variant:_.$e.minuetBold},r.displayType),i().createElement(o,{uri:e,contextUri:e},i().createElement(k.xd,{size:s===C.f.MOBILE?D.Jj.SMALL:D.Jj.LARGE},r.title)),i().createElement(k.dy,{medium:s===C.f.SMALL,large:s===C.f.LARGE,bold:s!==C.f.MOBILE},r.subtitle))),i().createElement(O.o,{backgroundColor:t,size:s===C.f.MOBILE?O.m.SMALL:O.m.LARGE,playButton:null,header:l,secondaryActionButtons:c}))};var B=a(7487),U=a(57553),L=a(58733),R=a(82907),Z=a(50878),z=a(65526),$=a.n(z),j=a(58324),T=a(404),G=a(49022),H=a(20651),W=a(64619);const q=e=>{var t,a,n,i,s,r,l,c,o,d,u,m,f;const p=null===(t=e.audio.items.find((({externallyHosted:e})=>e)))||void 0===t?void 0:t.url,b=((null===(a=e.coverArt)||void 0===a?void 0:a.sources)||[]).map((e=>{var t,a;return{url:e.url,width:null!==(t=e.width)&&void 0!==t?t:void 0,height:null!==(a=e.height)&&void 0!==a?a:void 0}}));const g=e.playability.playable,y=null!==(n=null===(i=e.audioPreview)||void 0===i?void 0:i.url)&&void 0!==n?n:"",E=(null===(s=e.contentRating)||void 0===s?void 0:s.label)===T.KS.Explicit;return{audio_preview_url:y,description:null!==(r=e.description)&&void 0!==r?r:"",duration_ms:e.duration.totalMilliseconds,explicit:E,external_urls:{spotify:""},href:"",html_description:null!==(l=e.description)&&void 0!==l?l:"",id:e.id,images:b,is_externally_hosted:Boolean(p),is_playable:g,languages:[],name:e.name,release_date:null!==(c=null===(o=e.releaseDate)||void 0===o?void 0:o.isoString)&&void 0!==c?c:"",release_date_precision:null!==(d=null===(u=e.releaseDate)||void 0===u?void 0:u.isoString)&&void 0!==d?d:"",restrictions:{reason:""},resume_point:{fully_played:!0,resume_position_ms:0},type:W.p.EPISODE,uri:e.uri,external_playback_url:p,audio:null!==(m=null===(f=e.audio)||void 0===f?void 0:f.items)&&void 0!==m?m:[],backgroundColor:""}};var F=a(70266),K=a(2124),J=a(28646),X=a(73088),Y=a(28234),V=a(66917),Q=a.n(V),ee=a(46471),te=a(12275),ae=a(18237),ne=a(1391);var ie=a(38489),se=a(49107),re=a(27272),le=a(88886),ce=a(25227);function oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(a),!0).forEach((function(t){$()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ue=i().memo((({index:e,uid:t,showName:a,showUri:s,episode:r,sortedBy:c,filteredBy:o})=>{var d,u,m,f,p,b,y,E;const v=null===(d=(0,l.oR)().getState().platform)||void 0===d?void 0:d.isBrowser,h=1e3*r.playedState.playPosition,w=r.uri,k={uid:t,uri:w,contextUri:s},[S,x]=(0,n.useState)(r.playedState.state===T.sY.Completed),C=(0,j.O1)(),O=(0,l.v9)(ne.Gg).isAnonymous,D=(0,se.jh)(),P=(0,g.o)(),I=(0,H.cq)(de(de({},k),{},{index:e,sortedBy:c,filteredBy:o})),_=(0,H.wD)(k,q(r)),N=(0,n.useCallback)((e=>{if(r.type===T.Wf.Episode&&v)return void ee.y.set((()=>({triggerId:`activation-trigger-mme${r.uri}`,triggerAction:null})));const t={interactionType:"click",onLogInteraction:P};O?_(e,t):I(e,t)}),[_,I,P,O,r,v]),M=(0,n.useCallback)((()=>{P({type:"click",targetUri:w,intent:"navigate"})}),[w,P]),A=(0,l.v9)(H.Ys),B=!(0,l.v9)(H.Me),U=(0,l.v9)(H.fL),L=null!==(u=null===(m=r.podcastSubscription)||void 0===m?void 0:m.isPaywalled)&&void 0!==u&&u,R=null!==(f=null===(p=r.podcastSubscription)||void 0===p?void 0:p.isUserSubscribed)&&void 0!==f&&f,z=L&&!R,{badges:$}=(0,F.r)({contentRating:null===(b=r.contentRating)||void 0===b?void 0:b.label,isPaywalled:L}),W=(0,n.useCallback)((e=>{let t=e;return z&&(t=i().createElement(ce.l,{enabled:!0},t)),t=i().createElement(Y.c,{id:`activation-trigger-mme${w}`,targetURI:Q().from(w)},t),t}),[w,z]);return i().createElement(Z.ZP,{value:"row",index:e},i().createElement(te._,{menu:i().createElement(ae.k,{uri:w,showUri:s,sharingInfo:r.sharingInfo,isPlayed:S,onMarkAsPlayed:x})},i().createElement(G.X,{index:e,uri:w,uid:t,size:D,images:(null===(y=r.coverArt)||void 0===y?void 0:y.sources)||[],name:r.name,description:r.description,isPlayable:r.playability.playable||z,fullyPlayed:S,durationMs:r.duration.totalMilliseconds,releaseDate:(null===(E=r.releaseDate)||void 0===E?void 0:E.isoString)||"",resumePositionMs:h,handleDragStart:e=>{if(e.target!==e.currentTarget)return;const t=`${r.name} · ${a}`;C(e,[w],t,s)},handlePlaybackClick:N,handleClick:M,activeTrackUri:A,isPaywalled:L,isUserSubscribed:R,isPlaying:B,position:U,badges:i().createElement(i().Fragment,null,$.explicit&&i().createElement(K.N,null),$.paid&&i().createElement(X.g,null),$.nineteen&&i().createElement(J.X,{size:16})),playButtonWrapper:W,actionButtons:i().createElement(ie.K,{episodeUri:w,showUri:s,sharingInfo:r.sharingInfo,canDownload:!L||L&&R}),topActionButtons:i().createElement(le.y,{menu:i().createElement(ae.k,{uri:w,showUri:s,sharingInfo:r.sharingInfo,isPlayed:S,onMarkAsPlayed:x})},i().createElement(re.z,{size:re.q.sm}))})))}));var me=a(20107),fe=a(67457);const pe=i().memo((({showName:e,showUri:t,sortedBy:a,filteredBy:s})=>{const r=(0,fe.ZM)(t),l=(0,n.useCallback)((({uid:n,episode:r},l)=>i().createElement(ue,{key:`${r.uri}/${l}`,index:l,uid:n,episode:r,showName:e,showUri:t,sortedBy:a,filteredBy:s})),[e,t,a,s]),{ref:c,breakpoint:o}=(0,se.Db)({[se.Uo.MEDIUM]:0,[se.Uo.LARGE]:600});return i().createElement(se.ZU.Provider,{value:o},i().createElement(Z.ZP,{value:"track-list"},i().createElement(me.k,{showUri:t,ref:c,renderRow:l,fetchEpisodes:r})))}));var be={container:"show-trailer-container",isActive:"show-trailer-isActive",title:"show-trailer-title",main:"show-trailer-main",titleContainer:"show-trailer-titleContainer",duration:"show-trailer-duration",trailerContainer:"show-trailer-trailerContainer",image:"show-trailer-image",imageContainer:"show-trailer-imageContainer",playButton:"show-trailer-playButton",entityImageLarge:"show-trailer-entityImageLarge",entityImageSmall:"show-trailer-entityImageSmall"},ge=a(34159),ye=a(38788),Ee=a(27462);let ve;!function(e){e.SMALL="small",e.LARGE="large"}(ve||(ve={}));const he=({images:e,title:t,contentRating:a,duration:n,moreButton:s,onClick:r,onContextMenu:l,onTouchStart:c,onTouchEnd:d,isPlaying:u,isActive:m,size:f,className:p})=>{const b=f===ve.LARGE?ge.qE.md:ge.qE.sm,{badges:g}=(0,F.r)({contentRating:a});return i().createElement("div",{"data-testid":"trailer-component",className:v()(be.container,p,{[be.isActive]:m}),onContextMenu:l,onTouchStart:c,onTouchEnd:d},i().createElement("div",{className:be.main},i().createElement("div",{className:be.imageContainer},i().createElement(S.O,{type:W.p.EPISODE,title:t,className:v()(be.image,{[be.entityImageSmall]:f===ve.SMALL,[be.entityImageLarge]:f===ve.LARGE}),size:x.m$.SIZE_56,images:e,shape:S.K.ROUNDED_CORNERS}),i().createElement("div",{className:be.playButton},i().createElement(ge.JM,{"data-testid":"trailer-play-button",version:ge.ul.transparent,size:b,isPlaying:u,onClick:r}))),i().createElement("div",{className:be.metadata},i().createElement("div",{className:be.titleContainer},i().createElement(_.Dy,{dir:"auto",className:be.title,variant:_.$e.balladBold},t)),i().createElement("div",{className:be.trailerContainer},i().createElement(Ee.V,{text:o.ag.get("track-trailer")}),g.explicit&&i().createElement(K.N,null),g.nineteen&&i().createElement(J.X,null),i().createElement(_.Dy,{dir:"auto",variant:_.$e.mesto},i().createElement(ye.n,{durationMs:n}))))),s)};var we=a(75933),ke=a(39536),Se=a(99498),xe=a(7099),Ce=a(6953);const Oe=i().memo((e=>{const{uri:t}=e,{sortParamMap:a,getSortParam:s,setSortParam:r}=(0,fe.uM)(t),l=s(),c=Array.from(a.values()),o=Array.from(a.keys()),d=(0,n.useCallback)((e=>{const t=o.find((t=>{var n;return(null===(n=a.get(t))||void 0===n?void 0:n.key)===e}));t&&r(t)}),[r,o,a]);if(!a.size||!l)return null;const u=Array.from(a.keys()).find((e=>e.field===l.field&&e.order===l.order)),m=a.get(u);return i().createElement(Ce.A,{options:c,onSelect:e=>d(e),selected:m})}));var De=a(69365),Pe=a(47574),Ie=a(54798),_e=a(54220);const Ne=({children:e,uri:t})=>i().createElement(te._,{menu:i().createElement(we.M,{uri:t})},e),Me=(0,c.P1)(L.MQ,((e,t)=>t),((e,t)=>e[t])),Ae=(0,c.P1)(L.$J,((e,t)=>t),((e,t)=>e[t])),Be=e=>{var t,a,r,c;const{uri:E,showId:v}=e,h=(0,l.I0)(),w=(0,g.o)(),k=(0,Pe.W6)(Ie.Cz),S=!(0,y.k)(),x=(0,l.v9)((e=>Me(e,E))),O=(0,l.v9)((e=>Ae(e,E))),{canSort:D}=(0,fe.uM)(E),{playerSort:P,playerFilter:I,showFirstEpisode:N}=(0,fe.x3)(E),M=(0,l.v9)(R.dO),L=M.isPlaying&&M.contextURI===E,Z=null==x||null===(t=x.images)||void 0===t||null===(a=t[0])||void 0===a?void 0:a.url,z=(0,ke.Z)(Z||null);(0,n.useEffect)((()=>{if(!x||(0,xe.YK)(x))return void h((0,m.AN)(v));const{name:e}=x;h((0,b.Dk)(o.ag.get("podcasts.show.seo.title",{name:e})))}),[h,x,v]),(0,n.useEffect)((()=>{"boolean"!=typeof O&&h((0,m.PA)(E))}),[h,E,O]);const $=(0,n.useCallback)((()=>{w({targetUri:E,intent:O?"unsave":"save",type:"click"}),h(O?(0,p.Bn)(E):(0,p.PJ)(E))}),[h,w,E,O]),j=(0,n.useCallback)((()=>{w({intent:"expand-description",type:"click"})}),[w]),T=null===(r=(0,l.oR)().getState().platform)||void 0===r?void 0:r.isBrowser,G=(null==x?void 0:x.trailer)||null,F=(0,n.useCallback)((()=>{w({targetUri:E,intent:L?"pause":"play",type:"click",itemIdSuffix:"button"}),"SHOW"===(null==x?void 0:x.showType)&&T?ee.y.set((()=>({triggerId:`activation-trigger-mme${E}`,triggerAction:null}))):h((0,f.uR)(E,N?q(N):void 0,P,I))}),[h,w,E,L,null==x?void 0:x.showType,T,N,P,I]),K=(null==x||null===(c=x.episodes)||void 0===c?void 0:c.total)||0,J=M.trackURI===(null==G?void 0:G.uri),X=M.isPlaying&&J,V=0===K,ne=(0,H.cq)({contextUri:null==x?void 0:x.uri,uri:(null==G?void 0:G.uri)||E}),ie=(0,n.useCallback)((e=>{ne(e,{interactionType:"click",onLogInteraction:w})}),[ne,w]),se=(0,n.useMemo)((()=>({title:null==x?void 0:x.name,subtitle:null==x?void 0:x.publisher,images:null==x?void 0:x.images,type:W.p.SHOW,displayType:"SHOW"===(null==x?void 0:x.showType)?o.ag.get("type.show"):o.ag.get("type.podcast")})),[x]),{isXSOnly:ce,isSMOnly:oe}=(0,Se.e)(),de=ce||oe,ue=(0,n.useMemo)((()=>x?i().createElement(d.k,{copyrights:x.copyrights||[]}):null),[x]),me=(0,n.useCallback)((e=>"SHOW"===(null==x?void 0:x.showType)||T?i().createElement(Y.c,{id:`activation-trigger-mme${null==x?void 0:x.uri}`,targetURI:Q().from(null==x?void 0:x.uri)},e):e),[null==x?void 0:x.uri,null==x?void 0:x.showType,T]),be=(0,n.useMemo)((()=>x?i().createElement(A,{uri:x.uri,backgroundColor:z,data:se,size:de?C.f.SMALL:C.f.LARGE,onPlayClick:F,isPlaying:L,isPlayDisabled:V,playButtonWrapper:me,contextMenuWrapper:Ne,actionBarButtons:[i().createElement(De.r,{key:"follow-button"},i().createElement(u.e,{isFollowing:O,onClick:$,disabled:S})),i().createElement(le.y,{key:"more-button",menu:i().createElement(we.M,{uri:E,sharingInfo:x.sharingInfo})},i().createElement(re.z,null))]}):null),[x,z,se,F,$,O,S,L,de,V,E,me]),ge=(0,n.useCallback)((e=>{const t=(null==x?void 0:x.description)||k&&(null==x?void 0:x.htmlDescription);return i().createElement("section",{className:s.Z.ShowPage},be,i().createElement("div",{className:s.Z.ShowContent},i().createElement("div",{className:s.Z.metadata},t&&i().createElement(i().Fragment,null,i().createElement(_.Dy,{as:"h3",variant:_.$e.canon,color:"white",className:s.Z.sectionTitle},o.ag.get("artist.about")),i().createElement(U.o,{maxLines:4,content:(x.description||"").trim(),onExpanded:j,htmlContent:k?x.htmlDescription:void 0,LinkComponent:_e.Z})),G&&i().createElement(te._,{menu:i().createElement(ae.k,{uri:G.uri,showUri:x.uri,sharingInfo:G.sharingInfo})},i().createElement(he,{className:s.Z.trailer,images:G.images,title:G.name,duration:G.duration_ms,moreButton:i().createElement(le.y,{menu:i().createElement(ae.k,{uri:G.uri,sharingInfo:G.sharingInfo,showUri:x.uri})},i().createElement(re.z,null)),onClick:ie,isPlaying:X,isActive:J,size:ve.LARGE,contentRating:G.contentRating}))),i().createElement("div",{className:s.Z.episodes,"data-testid":"show-all-episode-list"},i().createElement("div",{className:s.Z.episodesHeader},i().createElement(_.Dy,{as:"h3",variant:_.$e.canon,color:"white",className:s.Z.sectionTitle},o.ag.get("mwp.podcast.all.episodes")),D&&i().createElement("div",{className:s.Z.episodesSort},i().createElement(Oe,{uri:E}))),e),ue))}),[x,G,be,ue,J,X,k,j,ie,D,E]);return x?ge(i().createElement(pe,{showName:x.name,showUri:x.uri,sortedBy:P,filteredBy:I})):i().createElement(B.h,{errorMessage:o.ag.get("error.not_found.title.podcast")})};var Ue=i().memo((()=>{const{showId:e}=(0,r.UO)(),t=`spotify:show:${e}`;return i().createElement(n.Suspense,{fallback:null},i().createElement(Be,{uri:t,showId:e}))}))},38489:function(e,t,a){"use strict";a.d(t,{K:function(){return w}});var n=a(27378),i=a.n(n),s=a(60042),r=a.n(s),l=a(11700),c="show-shareButton-button",o=a(35181),d=a(60854),u=a(70608),m=a(91592),f=a(86131);const p=i().memo((({onClick:e=(()=>{}),size:t=24,className:a,uri:s,sharingInfo:l,interactionData:p})=>{const{onCopyLink:b}=(0,m.y)({sharingInfo:l,uri:s,interactionData:p}),g=(0,n.useCallback)((()=>{b(),e()}),[e,b]);return i().createElement(f.u,{label:o.ag.get("mwp.list.item.share")},i().createElement(u.E,{ariaLabel:o.ag.get("mwp.list.item.share"),size:t,onClick:g,className:r()(c,a)},i().createElement(d.M,{iconSize:t})))}));var b=a(21723),g=a(34834),y=a(885),E=a(21380),v=a(91486);const h={intent:"share",type:"click",itemIdSuffix:"contextmenu/episode/share"},w=i().memo((({episodeUri:e,showUri:t,sharingInfo:a,canDownload:s})=>{const{useDownloading:c}=(0,n.useContext)(y.I),{currentAvailability:o}=c(e),d=[E.V8.YES,E.V8.DOWNLOADING,E.V8.WAITING].includes(o),u=(0,n.useMemo)((()=>i().createElement(g.p,{uri:e,size:g.q.sm,showUri:t,className:r()({[l.Z.visibleDownloadButton]:d})})),[e,t,d]),m=(0,n.useMemo)((()=>i().createElement(p,{uri:e,sharingInfo:a,interactionData:h})),[e,a]),f=(0,n.useMemo)((()=>i().createElement(b.w,{uri:e,size:v.q.sm,className:l.Z.saveButton})),[e]);return i().createElement(i().Fragment,null,m,s&&u,f)}))},6953:function(e,t,a){"use strict";a.d(t,{A:function(){return v}});var n=a(27378),i=a.n(n),s=a(60042),r=a.n(s),l="x-sortBox-sortDropdown",c="x-sortBox-sortDropdownChanged",o=a(9807),d=a(55256),u=a(11890),m=a(88886),f=a(34761),p=a(79744),b=a(13160),g=a(46191),y=a(4745);const E=({selected:e,onSelect:t,options:a,sortOrder:n})=>{let s;return n&&(n===y.kn.ASC||n===y.kn.SECONDARY_ASC?s=i().createElement(b.c,{iconSize:16}):n!==y.kn.DESC&&n!==y.kn.SECONDARY_DESC||(s=i().createElement(g.e,{iconSize:16}))),i().createElement(f.v,null,a.map((({key:a,value:n})=>i().createElement(p.s,{role:"menuitemradio","aria-checked":a===e.key&&!s,key:a,onClick:()=>t(a),icon:a===e.key&&s},i().createElement(o.Dy,{variant:o.Dy.mesto},n)))))};const v=({options:e,selected:t,onSelect:a,isSelectionChanged:n,sortOrder:s})=>{const[f]=e;t||(t=f);const p=n?n(t):t!==f;return i().createElement(m.y,{renderInline:!0,menu:i().createElement(E,{selected:t,options:e,onSelect:a,sortOrder:s})},((e,a,n)=>i().createElement("button",{className:r()(l,{[c]:p}),onClick:a,ref:n,type:"button"},i().createElement(o.Dy,{variant:o.Dy.mesto},t.value),e?i().createElement(d.q,{iconSize:16}):i().createElement(u.m,{iconSize:16}))))}},55003:function(e,t,a){"use strict";a.d(t,{e:function(){return u}});var n=a(27378),i=a.n(n),s=a(35181),r=a(60042),l=a.n(r),c="show-followButton-button",o="show-followButton-isFollowing",d="show-followButton-disabled";const u=i().memo((({isFollowing:e,onClick:t,disabled:a=!1})=>{const n=e?s.ag.get("following"):s.ag.get("follow");return i().createElement("button",{type:"button",className:l()(c,{[o]:e,[d]:a}),onClick:t},n)}))},49022:function(e,t,a){"use strict";a.d(t,{X:function(){return v}});var n=a(27378),i=a.n(n),s=a(76654),r=a(48529),l=a(66917),c=a.n(l),o=a(60042),d=a.n(o),u={episodeBlock:"show-episodeBlock-episodeBlock",isActive:"show-episodeBlock-isActive",title:"show-episodeBlock-title",titleLink:"show-episodeBlock-titleLink",selected:"show-episodeBlock-selected",topActions:"show-episodeBlock-topActions",actions:"show-episodeBlock-actions",noHover:"show-episodeBlock-noHover",imageContainer:"show-episodeBlock-imageContainer",showImage:"show-episodeBlock-showImage",description:"show-episodeBlock-description",metadata:"show-episodeBlock-metadata",badges:"show-episodeBlock-badges",medium:"show-episodeBlock-medium",large:"show-episodeBlock-large",header:"show-episodeBlock-header",descriptionContainer:"show-episodeBlock-descriptionContainer",playerActions:"show-episodeBlock-playerActions"},m=a(34159),f=a(9807),p=a(93261),b=a(64619),g=a(72136),y=a(21311),E=a(49107);const v=i().memo((({uri:e,name:t,showName:a,showUri:l,size:o,description:v,durationMs:h,images:w,badges:k,fullyPlayed:S,releaseDate:x,resumePositionMs:C,activeTrackUri:O,isPlaying:D,actionButtons:P,topActionButtons:I,onContextMenu:_,onTouchStart:N,onTouchEnd:M,handlePlaybackClick:A,handleDragStart:B,handleClick:U,position:L,index:R,isPlayable:Z,isPaywalled:z,isUserSubscribed:$,playButtonWrapper:j=null})=>{var T;const G=(0,r.k6)(),H=O===e,W=H&&D,q=c().from(e).toURLPath(!0),F=null===(T=c().from(l))||void 0===T?void 0:T.toURLPath(!0),K=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),G.push(q),U&&U(e)}),[q,G,U]),J=(0,n.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),F&&G.push(F)}),[F,G]),X=z&&!$,Y=(0,n.useCallback)((e=>{e.stopPropagation(),X||A(e)}),[A,X]),V=e=>{e.stopPropagation()},Q=X||Z,ee=i().createElement(m.JM,{size:m.qE.xs,version:m.ul.secondary,onClick:Y,isPlaying:W,disabled:!Q,locked:X}),te=j?j(ee):ee;return i().createElement("div",{className:d()(u.episodeBlock,{[u.isActive]:H,[u.medium]:o===E.Uo.MEDIUM,[u.large]:o===E.Uo.LARGE,[u.noHover]:o===E.Uo.XSMALL}),"data-testid":`episode-${R}`,draggable:!!B,onDragStart:B,onClick:K,onContextMenu:_,onTouchStart:N,onTouchEnd:M},i().createElement("div",{className:u.imageContainer},i().createElement(g.O,{className:d()(u.entityImage,u.showImage),type:b.p.EPISODE,size:(e=>{switch(e){case E.Uo.LARGE:return y.m$.SIZE_112;case E.Uo.MEDIUM:return y.m$.SIZE_64;default:return y.m$.SIZE_48}})(o),title:t,shape:g.K.ROUNDED_CORNERS,images:w})),i().createElement("div",{className:u.header},i().createElement(s.rU,{className:u.titleLink,to:q,onClick:K},i().createElement(f.Dy.h4,{variant:f.Dy.balladBold,className:u.title},t)),a&&F&&i().createElement(s.rU,{className:u.titleLink,to:F,onClick:J},i().createElement(f.Dy.h4,{variant:f.Dy.mestoBold,className:u.title},a))),i().createElement("div",{className:u.descriptionContainer},i().createElement(f.Dy.p,{variant:f.Dy.mesto,className:u.description},v)),i().createElement("div",{className:u.metadata},i().createElement("div",{className:u.badges},k),i().createElement(p.E,{isPlaying:W,fullyPlayed:S,durationMs:h,releaseDate:x,resumePositionMs:C,position:H?L:void 0})),I&&i().createElement("div",{onClick:V,className:u.topActions},I),i().createElement("div",{onClick:V,className:u.actions},P),i().createElement("div",{className:u.playerActions},te))}))},20107:function(e,t,a){"use strict";a.d(t,{k:function(){return f}});var n=a(65526),i=a.n(n),s=a(27378),r=a.n(s),l="show-episodeList-divider",c="show-episodeList-row",o=a(93868),d=a(19873);function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(Object(a),!0).forEach((function(t){i()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const f=r().memo(r().forwardRef(((e,t)=>{const{fetchEpisodes:a,renderRow:n,limit:i=50,showUri:u}=e,[f,p]=(0,s.useState)(d.d),b=(0,s.useRef)(!1),g=(0,s.useCallback)(((e=!1)=>{if(!a)return;const t=f.pagingInfo.nextOffset;if(null===t)return;const n=0===f.totalCount?i:Math.min(f.totalCount-t,i);b.current||(b.current=!0,a(t,n).then((a=>{p((n=>{const i=e?[]:[...n.items];return i.splice(t,a.items.length,...a.items),m(m({},a),{},{items:i})})),b.current=!1})))}),[a,f.pagingInfo.nextOffset,f.totalCount,i]);return(0,s.useEffect)((()=>{p(d.d)}),[u,a]),(0,s.useEffect)((()=>{0===f.pagingInfo.nextOffset&&g(!0)}),[g,f.pagingInfo.nextOffset]),r().createElement("div",{ref:t},r().createElement(o.C,{onReachBottom:g,triggerOnInitialLoad:!0},f.items.map(((e,t)=>r().createElement("div",{className:c,key:`${t}${e.uid}`},r().createElement("hr",{className:l,"aria-hidden":!0}),n(e,t))))))})))},11700:function(e,t){"use strict";t.Z={xs:"(min-width: 0px)",xsOnly:"(min-width: 0px) and (max-width: 767px)",sm:"(min-width: 768px)",smOnly:"(min-width: 768px) and (max-width: 1023px)",md:"(min-width: 1024px)",mdOnly:"(min-width: 1024px) and (max-width: 1279px)",lg:"(min-width: 1280px)",lgOnly:"(min-width: 1280px) and (max-width: 1919px)",xl:"(min-width: 1920px)",ShowPage:"show-show-ShowPage",ShowContent:"show-show-ShowContent",metadata:"show-show-metadata",episodes:"show-show-episodes",episodesHeader:"show-show-episodesHeader",episodesSort:"show-show-episodesSort",subtitle:"show-show-subtitle",sectionTitle:"show-show-sectionTitle",trailer:"show-show-trailer",visibleDownloadButton:"show-show-visibleDownloadButton",moreButton:"show-show-moreButton",saveButton:"show-show-saveButton"}}}]);
//# sourceMappingURL=xpui-routes-show.js.map